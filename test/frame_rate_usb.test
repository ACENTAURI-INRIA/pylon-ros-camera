<?xml version="1.0"?>
<launch>

  <arg name="node_name_usb" default="pylon_camera_test_usb_node" />

  <!-- NODE -->
  <node pkg="pylon_camera" type="pylon_camera_node" name="$(arg node_name_usb)" clear_params="true" output="screen">	
    <param name="device_user_id"  value="jenkins_test_usb"  type="string" />
    <param name="desired_framerate"  value="10.0"  type="double" />
    <param name="camera_frame" value="/$(arg node_name_usb)" type="string" />
  </node>
   
  
  <!-- TEST -->  
  <test pkg="rostest" type="hztest" test-name="pylon_camera_frame_rate_usb" >
    <param name="topic" value="/$(arg node_name_usb)/image_raw" />  
    <param name="hz" value="10.0" />
    <param name="hzerror" value="2.0" />
    <param name="test_duration" value="20.0" />
    <param name="wait_time" value="5.0" type="double" />  
  </test>

</launch>